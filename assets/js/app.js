!function(e){function t(t){for(var s,l,n=t[0],o=t[1],c=t[2],d=0,h=[];d<n.length;d++)l=n[d],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&h.push(r[l][0]),r[l]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);for(u&&u(t);h.length;)h.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],s=!0,n=1;n<i.length;n++){var o=i[n];0!==r[o]&&(s=!1)}s&&(a.splice(t--,1),e=l(l.s=i[0]))}return e}var s={},r={0:0},a=[];function l(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=e,l.c=s,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(i,s,function(t){return e[t]}.bind(null,s));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/fsd4-slider/";var n=window.webpackJsonp=window.webpackJsonp||[],o=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var u=o;a.push([5,1]),i()}([,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={root:"slider",rootVertical:"slider_vertical",handle:"slider__handle",handleVertical:"slider__handle_vertical",firstHandle:"slider__left-handle",secondHandle:"slider__right-handle",valueLabel:"slider__value-label",firstHandleLabel:"slider__left-handle-value-label",firstHandleLabelVertical:"slider__left-handle-value-label_vertical",secondHandleLabel:"slider__right-handle-value-label",secondHandleLabelVertical:"slider__right-handle-value-label_vertical",rangeLine:"slider__range-line",rangeLineVertical:"slider__range-line_vertical",scaleValue:"slider__scale-value",scaleValueVertical:"slider__scale-value_vertical",scaleValueLabel:"slider__scale-value-label",scaleValueLabelVertical:"slider__scale-value-label_vertical"}},,,function(e,t,i){"use strict";var s=this&&this.__decorate||function(e,t,i,s){var r,a=arguments.length,l=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(l=(a<3?r(l):a>3?r(t,i,l):r(t,i))||l);return a>3&&l&&Object.defineProperty(t,i,l),l};Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var r=i(0),a=function(){function e(){this.subscribers=[]}return e.prototype.add=function(e){this.subscribers.push(e)},e.prototype.remove=function(e){this.subscribers=this.subscribers.filter((function(t){return t!==e}))},e.prototype.publish=function(e){this.subscribers.forEach((function(t){t(e)}))},s([r.default],e.prototype,"publish",null),e}();t.Observable=a},function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),i(6),i(8);for(var s=i(10),r=e(".page-wrapper"),a=0;a<4;a++)new s.DemoSlider(r[0])}).call(this,i(2))},function(e,t,i){var s=i(3),r=i(7);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};s(r,a);e.exports=r.locals||{}},function(e,t,i){},function(e,t,i){var s=i(3),r=i(9);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};s(r,a);e.exports=r.locals||{}},function(e,t,i){},function(e,t,i){"use strict";(function(e){var s=this&&this.__decorate||function(e,t,i,s){var r,a=arguments.length,l=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(l=(a<3?r(l):a>3?r(t,i,l):r(t,i))||l);return a>3&&l&&Object.defineProperty(t,i,l),l};Object.defineProperty(t,"__esModule",{value:!0}),t.DemoSlider=void 0,i(11),i(13);var r=i(0),a=function(){function t(s){this.classes=i(24),this.root=this.createRoot(s),this.$slider=e(this.createScaleContainer()).slider(),this.panelWrapper=t.createElement("div",this.classes.panelWrapper),this.root.appendChild(this.panelWrapper),this.rangeSwitcher=this.createSwitcher("Is range",""),this.isVerticalSwitcher=this.createSwitcher("Is vertical",""),this.valueLabelDisplayedSwitcher=this.createSwitcher("Display value label",""),this.scaleDisplayedSwitcher=this.createSwitcher("Display scale",""),this.min=this.createValueElement("Min value",""),this.max=this.createValueElement("Max value",""),this.step=this.createValueElement("Step",""),this.firstValue=this.createValueElement("Handle value",""),this.secondValue=this.createValueElement("SecondValue handle value",""),this.secondValueContainer=this.secondValue.closest("."+this.classes.value),this.setInitialState(),this.setSubscriptions(),this.bindEventsListeners()}return t.prototype.createRoot=function(e){var t=document.createElement("div");return t.classList.add(this.classes.root),e.appendChild(t),t},t.prototype.createScaleContainer=function(){var e=document.createElement("div");return e.classList.add(this.classes.scaleContainer),this.root.appendChild(e),e},t.prototype.createSwitcher=function(e,i){var s=t.createElement("label",this.classes.switcher),r=t.createElement("input",i),a=t.createElement("p","",e);return r.setAttribute("type","checkbox"),s.appendChild(r),s.appendChild(a),this.panelWrapper.appendChild(s),r},t.prototype.createValueElement=function(e,i){var s=t.createElement("div",this.classes.value),r=t.createElement("p","",e),a=t.createElement("input",this.classes.valueInput);return i&&a.classList.add(i),s.appendChild(r),s.appendChild(a),this.panelWrapper.appendChild(s),a},t.createElement=function(e,t,i){var s=document.createElement(e);return Array.isArray(t)?t.forEach((function(e){s.classList.add(e)})):""!==t&&s.classList.add(t),i&&(s.innerHTML=i),s},t.prototype.setInitialState=function(){this.rangeSwitcher.checked=this.$slider.getSliderOption("isRange"),this.isVerticalSwitcher.checked=this.$slider.getSliderOption("isVertical"),this.valueLabelDisplayedSwitcher.checked=this.$slider.getSliderOption("valueLabelDisplayed"),this.scaleDisplayedSwitcher.checked=this.$slider.getSliderOption("scaleDisplayed"),this.min.value=this.$slider.getSliderOption("min"),this.max.value=this.$slider.getSliderOption("max"),this.step.value=this.$slider.getSliderOption("step"),this.firstValue.value=this.$slider.getSliderOption("firstValue"),this.secondValue.value=this.$slider.getSliderOption("secondValue"),this.secondValueContainerSwitch(this.$slider.getSliderOption("isRange"))},t.prototype.setSubscriptions=function(){this.$slider.subscribe("firstValue",this.leftHandleSubscriber),this.$slider.subscribe("secondValue",this.rightHandleSubscriber)},t.prototype.leftHandleSubscriber=function(e){this.firstValue.value=e},t.prototype.rightHandleSubscriber=function(e){this.secondValue.value=e},t.prototype.bindEventsListeners=function(){this.rangeSwitcher.addEventListener("change",this.rangeSwitcherHandler),this.isVerticalSwitcher.addEventListener("change",this.booleanChangeHandler("isVertical")),this.valueLabelDisplayedSwitcher.addEventListener("change",this.booleanChangeHandler("valueLabelDisplayed")),this.scaleDisplayedSwitcher.addEventListener("change",this.booleanChangeHandler("scaleDisplayed")),this.min.addEventListener("change",this.numberChangeHandler("min")),this.max.addEventListener("change",this.numberChangeHandler("max")),this.step.addEventListener("change",this.numberChangeHandler("step")),this.firstValue.addEventListener("change",this.numberChangeHandler("firstValue")),this.secondValue.addEventListener("change",this.numberChangeHandler("secondValue"))},t.prototype.rangeSwitcherHandler=function(){var e=this.rangeSwitcher.checked;this.$slider.setSliderOption("isRange",e),this.secondValueContainerSwitch(e)},t.prototype.booleanChangeHandler=function(e){var t=this;return function(i){return t.updateBoolean(i,e)}},t.prototype.updateBoolean=function(e,t){var i=e.target;this.$slider.setSliderOption(t,i.checked)},t.prototype.numberChangeHandler=function(e){var t=this;return function(i){return t.updateNumber(i,e)}},t.prototype.updateNumber=function(e,t){var i=e.target,s=parseInt(i.value.replace(/-\D/g,""),10);isNaN(s)&&(s=this.$slider.getSliderOption(t)),i.value=this.$slider.setSliderOption(t,s)},t.prototype.secondValueContainerSwitch=function(e){var t;e&&this.secondValueContainer?this.panelWrapper.appendChild(this.secondValueContainer):null===(t=this.secondValueContainer)||void 0===t||t.remove()},s([r.default],t.prototype,"leftHandleSubscriber",null),s([r.default],t.prototype,"rightHandleSubscriber",null),s([r.default],t.prototype,"rangeSwitcherHandler",null),t}();t.DemoSlider=a}).call(this,i(2))},function(e,t,i){var s=i(3),r=i(12);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};s(r,a);e.exports=r.locals||{}},function(e,t,i){},function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var s=i(14);t.default=e.fn.slider=function(e){var t=new s.default(this[0],e);return this.subscribe=function(e,i){t.subscribe(e,i)},this.unsubscribe=function(e,i){t.unsubscribe(e,i)},this.setSliderOption=function(e,i){return t.set(e,i),t.get(e)},this.getSliderOption=function(e){return t.get(e)},this}}).call(this,i(2))},function(e,t,i){"use strict";var s=this&&this.__decorate||function(e,t,i,s){var r,a=arguments.length,l=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(l=(a<3?r(l):a>3?r(t,i,l):r(t,i))||l);return a>3&&l&&Object.defineProperty(t,i,l),l};Object.defineProperty(t,"__esModule",{value:!0});var r=i(0),a=i(15),l=i(18),n=i(19),o=i(20),c=function(){function e(e,t){this.model=new a.Model(t),this.modelAPI=new l.ModelAPI(this.model),this.view=new o.View(e),this.presenter=new n.Presenter(this.modelAPI,this.view)}return e.prototype.subscribe=function(e,t){this.model[e].addSubscriber(t)},e.prototype.unsubscribe=function(e,t){this.model[e].removeSubscriber(t)},e.prototype.set=function(e,t){this.model[e].set(t)},e.prototype.get=function(e){return this.model[e].get()},s([r.default],e.prototype,"subscribe",null),s([r.default],e.prototype,"unsubscribe",null),s([r.default],e.prototype,"set",null),s([r.default],e.prototype,"get",null),e}();t.default=c},function(e,t,i){"use strict";var s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__decorate||function(e,t,i,s){var r,a=arguments.length,l=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(l=(a<3?r(l):a>3?r(t,i,l):r(t,i))||l);return a>3&&l&&Object.defineProperty(t,i,l),l};Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;var a=i(0),l=i(16),n=i(17),o=function(){function e(t){var i=n.default.isRange,r=n.default.isVertical,a=n.default.valueLabelDisplayed,o=n.default.scaleDisplayed,c=n.default.min,u=n.default.max,d=n.default.step,h=n.default.firstValue,p=n.default.secondValue;this.isRange=new l.ModelMemoryCell(i,e.checkIfBoolean),this.isVertical=new l.ModelMemoryCell(r,e.checkIfBoolean),this.valueLabelDisplayed=new l.ModelMemoryCell(a,e.checkIfBoolean),this.scaleDisplayed=new l.ModelMemoryCell(o,e.checkIfBoolean),this.min=new l.ModelMemoryCell(c,this.checkMin),this.step=new l.ModelMemoryCell(d,this.checkStep),this.max=new l.ModelMemoryCell(u,this.checkMax),this.firstValue=new l.ModelMemoryCell(h,this.checkFirstValue),this.secondValue=new l.ModelMemoryCell(p,this.checkSecondValue),this.setSubscriptions(),this.setInitialState(s(s({},n.default),t))}return e.prototype.getCurrentState=function(){var e,t,i,s,r,a,l,n,o;return{isRange:null===(e=this.isRange)||void 0===e?void 0:e.get(),isVertical:null===(t=this.isVertical)||void 0===t?void 0:t.get(),valueLabelDisplayed:null===(i=this.valueLabelDisplayed)||void 0===i?void 0:i.get(),scaleDisplayed:null===(s=this.scaleDisplayed)||void 0===s?void 0:s.get(),min:null===(r=this.min)||void 0===r?void 0:r.get(),max:null===(a=this.max)||void 0===a?void 0:a.get(),step:null===(l=this.step)||void 0===l?void 0:l.get(),firstValue:null===(n=this.firstValue)||void 0===n?void 0:n.get(),secondValue:null===(o=this.secondValue)||void 0===o?void 0:o.get()}},e.prototype.setSubscriptions=function(){this.isRange.addSubscriber(this.updateHandlesValues),this.step.addSubscriber(this.updateHandlesValues),this.min.addSubscriber(this.updateHandlesValues),this.max.addSubscriber(this.updateHandlesValues)},e.prototype.updateHandlesValues=function(){this.firstValue.update(),this.secondValue.update(),this.firstValue.update()},e.prototype.setInitialState=function(e){this.isRange.set(e.isRange),this.isVertical.set(e.isVertical),this.valueLabelDisplayed.set(e.valueLabelDisplayed),this.scaleDisplayed.set(e.scaleDisplayed),this.min.set(e.min),this.step.set(e.step),this.max.set(e.max),this.firstValue.set(e.firstValue),this.secondValue.set(e.secondValue)},e.prototype.checkMin=function(t){var i=e.checkIfNumber(t),s=this.getCurrentState(),r=s.max,a=s.step;return i>r-a?r-a:Math.floor(i)},e.prototype.checkMax=function(t){var i=e.checkIfNumber(t),s=this.getCurrentState(),r=s.min,a=s.step;return i<r+a?r+a:Math.floor(i)},e.prototype.checkStep=function(t){var i=e.checkIfNumber(t),s=this.getCurrentState(),r=s.min,a=s.max,l=a-r;return i<1?1:a&&i>l?l:Math.floor(i)},e.prototype.checkFirstValue=function(t){var i=this.getCurrentState(),s=i.isRange,r=i.secondValue,a=this.checkHandleValue(e.checkIfNumber(t));return this.secondValue&&s&&a>r?r:a},e.prototype.checkSecondValue=function(t){var i=this.getCurrentState(),s=i.isRange,r=i.max,a=i.firstValue,l=this.checkHandleValue(e.checkIfNumber(t));return s?l<a?a:l:r},e.prototype.checkHandleValue=function(e){var t=this.getCurrentState(),i=t.min,s=t.max,r=e<s-(s-i)%t.step/2?this.checkIfFitsTheSteps(e):s;return r<i?i:r>s?s:r},e.prototype.checkIfFitsTheSteps=function(e){var t=this.getCurrentState(),i=t.step,s=t.min,r=t.max,a=e-s,l=a%i,n=a-l+s;return l>i/2&&n+i<=r?n+i:n},e.checkIfNumber=function(e){if("string"==typeof e&&parseInt(e,10))return parseInt(e,10);if("number"!=typeof e)throw new TypeError("'"+e+"' is not a number. Number expected.");return e},e.checkIfBoolean=function(e){if("boolean"!=typeof e)throw new TypeError("'"+e+"' is not boolean. Boolean expected.");return e},r([a.default],e.prototype,"getCurrentState",null),r([a.default],e.prototype,"updateHandlesValues",null),r([a.default],e.prototype,"checkMin",null),r([a.default],e.prototype,"checkMax",null),r([a.default],e.prototype,"checkStep",null),r([a.default],e.prototype,"checkFirstValue",null),r([a.default],e.prototype,"checkSecondValue",null),r([a.default],e,"checkIfNumber",null),r([a.default],e,"checkIfBoolean",null),e}();t.Model=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModelMemoryCell=void 0;var s=i(4),r=function(){function e(e,t){void 0===t&&(t=function(e){return e}),this.subscribers=new s.Observable,this.checkFunction=t,this.value=e}return e.prototype.get=function(){return this.value},e.prototype.set=function(e){try{this.value=this.checkFunction(e),this.subscribers.publish(this.value)}catch(e){console.warn(e)}},e.prototype.addSubscriber=function(e){this.subscribers.add(e)},e.prototype.removeSubscriber=function(e){this.subscribers.remove(e)},e.prototype.update=function(){this.set(this.value)},e}();t.ModelMemoryCell=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={isRange:!1,isVertical:!1,valueLabelDisplayed:!0,scaleDisplayed:!0,min:0,max:100,step:1,firstValue:20,secondValue:80}},function(e,t,i){"use strict";var s=this&&this.__decorate||function(e,t,i,s){var r,a=arguments.length,l=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(l=(a<3?r(l):a>3?r(t,i,l):r(t,i))||l);return a>3&&l&&Object.defineProperty(t,i,l),l};Object.defineProperty(t,"__esModule",{value:!0}),t.ModelAPI=void 0;var r=i(0),a=function(){function e(e){this.model=e}return e.prototype.calculateFirstValue=function(e){this.model.firstValue.set(this.calculateValue(e))},e.prototype.calculateSecondValue=function(e){this.model.secondValue.set(this.calculateValue(e))},e.prototype.calculateAndChooseHandle=function(e){var t=this.model,i=t.isRange,s=t.min,r=t.firstValue,a=t.secondValue,l=this.calculateValue(e),n=l-s.get(),o=(a.get()-r.get())/2+r.get()-s.get();i.get()&&n>o?a.set(l):r.set(l)},e.prototype.subscribe=function(e,t){this.model[e].addSubscriber(t)},e.prototype.unsubscribe=function(e,t){this.model[e].removeSubscriber(t)},e.prototype.getCurrentState=function(){return this.model.getCurrentState()},e.prototype.calculateValue=function(e){var t=this.model,i=t.min;return e*(t.max.get()-i.get())+i.get()},s([r.default],e.prototype,"calculateFirstValue",null),s([r.default],e.prototype,"calculateSecondValue",null),s([r.default],e.prototype,"calculateAndChooseHandle",null),s([r.default],e.prototype,"getCurrentState",null),e}();t.ModelAPI=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Presenter=void 0;var s=function(){function e(e,t){this.modelAPI=e,this.view=t,this.setSubscriptions(),this.setInitialState()}return e.prototype.setSubscriptions=function(){var e=this,t=this.modelAPI.getCurrentState;this.view.subscribe("firstHandle",this.modelAPI.calculateFirstValue),this.view.subscribe("secondHandle",this.modelAPI.calculateSecondValue),this.view.subscribe("scale",this.modelAPI.calculateAndChooseHandle),this.modelAPI.subscribe("isRange",(function(){return e.view.updateIsRange(t())})),this.modelAPI.subscribe("isVertical",(function(){return e.view.updateIsVertical(t())})),this.modelAPI.subscribe("valueLabelDisplayed",(function(){return e.view.updateValueLabelDisplayed(t())})),this.modelAPI.subscribe("scaleDisplayed",(function(){return e.view.updateScaleDisplayed(t())})),this.modelAPI.subscribe("min",(function(){return e.view.updateScale(t())})),this.modelAPI.subscribe("max",(function(){return e.view.updateScale(t())})),this.modelAPI.subscribe("step",(function(){return e.view.updateScale(t())})),this.modelAPI.subscribe("firstValue",(function(){return e.view.updateValues(t())})),this.modelAPI.subscribe("secondValue",(function(){return e.view.updateValues(t())}))},e.prototype.setInitialState=function(){var e=this.modelAPI.getCurrentState();this.view.updateIsRange(e),this.view.updateIsVertical(e),this.view.updateValueLabelDisplayed(e),this.view.updateScaleDisplayed(e),this.view.updateScale(e),this.view.updateValues(e)},e}();t.Presenter=s},function(e,t,i){"use strict";var s=this&&this.__decorate||function(e,t,i,s){var r,a=arguments.length,l=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(l=(a<3?r(l):a>3?r(t,i,l):r(t,i))||l);return a>3&&l&&Object.defineProperty(t,i,l),l};Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;var r=i(0),a=i(21),l=i(22),n=i(23),o=i(1),c=i(4),u=function(){function e(t){this.scaleValues=[],this.isVertical=!1,this.root=e.createRoot(t),this.firstHandle=new a.HandleView(this.root,a.HandleType.First),this.secondHandle=new a.HandleView(this.root,a.HandleType.Second),this.rangeLine=new l.RangeLineView(this.root),this.scaleSubscribers=new c.Observable,this.bindEventlisteners()}return e.prototype.updateIsRange=function(e){this.secondHandle.switchHandle(e),this.rangeLine.render(e)},e.prototype.updateIsVertical=function(e){this.isVertical=e.isVertical,this.switchVertical(e),this.firstHandle.switchVertical(e),this.secondHandle.switchVertical(e),this.rangeLine.switchVertical(e),this.scaleValues.forEach((function(t){t.switchVertical(e)}))},e.prototype.updateValueLabelDisplayed=function(e){this.firstHandle.switchLabel(e),this.secondHandle.switchLabel(e)},e.prototype.updateScaleDisplayed=function(e){this.scaleValues.forEach((function(t){t.switchLabel(e)}))},e.prototype.updateValues=function(e){this.firstHandle.updateValue(e),this.secondHandle.updateValue(e),this.rangeLine.render(e)},e.prototype.updateScale=function(t){this.removeScaleValues(),this.createScaleValues(e.calculatePointsNumber(t),t)},e.prototype.subscribe=function(e,t){switch(e){case"firstHandle":this.firstHandle.subscribe(t);break;case"secondHandle":this.secondHandle.subscribe(t);break;case"scale":this.scaleSubscribers.add(t)}},e.createRoot=function(e){var t=document.createElement("div");return t.classList.add(o.default.root),e.appendChild(t),t},e.prototype.switchVertical=function(e){e.isVertical?this.root.classList.add(o.default.rootVertical):this.root.classList.remove(o.default.rootVertical)},e.prototype.createScaleValues=function(e,t){for(var i=t.min,s=t.max,r=t.step,a=s-i,l=0;l<e;l+=1)this.scaleValues[l]=new n.ScaleValueView(this.root,t,l,e),this.scaleValues[l].setClickSubscriber(this.scaleSubscribers.publish);a/r%e&&(this.scaleValues.push(new n.ScaleValueView(this.root,t,e+1,e)),this.scaleValues[this.scaleValues.length-1].setClickSubscriber(this.scaleSubscribers.publish))},e.prototype.removeScaleValues=function(){this.scaleValues.forEach((function(e){return e.remove()})),this.scaleValues.length=0},e.calculatePointsNumber=function(e){for(var t=e.min,i=e.max,s=e.step,r=i-t,a=Math.floor(r/s)+1;a>10;)a=Math.floor(a/2);return a>1?a:0},e.prototype.bindEventlisteners=function(){this.root.addEventListener("click",this.handleScaleClick)},e.prototype.handleScaleClick=function(e){this.scaleSubscribers.publish(this.calculatePosition(e))},e.prototype.calculatePosition=function(e){var t=!0===this.isVertical?this.calculateVerticalPosition(e.clientY):this.calculateHorizontalPosition(e.clientX);return t>1&&(t=1),t<0&&(t=0),t},e.prototype.calculateHorizontalPosition=function(e){return(e-this.root.getBoundingClientRect().left)/this.root.offsetWidth},e.prototype.calculateVerticalPosition=function(e){var t=this.root.offsetHeight;return(this.root.getBoundingClientRect().top+t-e)/t},s([r.default],e.prototype,"updateIsRange",null),s([r.default],e.prototype,"updateIsVertical",null),s([r.default],e.prototype,"updateValueLabelDisplayed",null),s([r.default],e.prototype,"updateScaleDisplayed",null),s([r.default],e.prototype,"updateValues",null),s([r.default],e.prototype,"updateScale",null),s([r.default],e.prototype,"handleScaleClick",null),e}();t.View=u},function(e,t,i){"use strict";var s=this&&this.__decorate||function(e,t,i,s){var r,a=arguments.length,l=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(l=(a<3?r(l):a>3?r(t,i,l):r(t,i))||l);return a>3&&l&&Object.defineProperty(t,i,l),l};Object.defineProperty(t,"__esModule",{value:!0}),t.HandleType=t.HandleView=void 0;var r,a=i(0),l=i(4),n=i(1);!function(e){e[e.First=0]="First",e[e.Second=1]="Second"}(r||(r={})),t.HandleType=r;var o=function(){function e(e,t){this.container=e,this.handleType=t,this.root=this.createRoot(),this.label=this.createLabel(),this.isDragged=!1,this.isVertical=!1,this.subscribers=new l.Observable,this.handleType===r.First&&this.container.appendChild(this.root),this.bindEventListeners()}return e.prototype.switchHandle=function(e){this.handleType===r.Second&&(e.isRange?(this.container.appendChild(this.root),this.render(e)):this.root.remove())},e.prototype.switchLabel=function(e){e.valueLabelDisplayed?this.root.appendChild(this.label):this.label.remove()},e.prototype.switchVertical=function(e){var t=e.isVertical;this.isVertical=t,t?(this.root.classList.add(n.default.handleVertical),this.handleType===r.First?this.label.classList.add(n.default.firstHandleLabelVertical):this.label.classList.add(n.default.secondHandleLabelVertical)):(this.root.classList.remove(n.default.handleVertical),this.handleType===r.First?this.label.classList.remove(n.default.firstHandleLabelVertical):this.label.classList.remove(n.default.secondHandleLabelVertical)),this.render(e)},e.prototype.updateValue=function(e){this.render(e)},e.prototype.subscribe=function(e){this.subscribers.add(e)},e.prototype.createRoot=function(){var e=document.createElement("div");return e.classList.add(n.default.handle),this.handleType===r.First?e.classList.add(n.default.firstHandle):e.classList.add(n.default.secondHandle),e},e.prototype.createLabel=function(){var e=document.createElement("div");return e.classList.add(n.default.valueLabel),this.handleType===r.First?e.classList.add(n.default.firstHandleLabel):e.classList.add(n.default.secondHandleLabel),e},e.prototype.render=function(e){var t=e.isVertical,i=e.firstValue,s=e.secondValue,a=this.calculateShift(e);this.handleType===r.First?a-=this.calculateExtraShift(e):a+=this.calculateExtraShift(e),t?(this.root.style.left="",this.root.style.bottom=a+"%"):(this.root.style.bottom="",this.root.style.left=a+"%"),this.handleType===r.First?this.label.innerHTML=""+i:this.label.innerHTML=""+s},e.prototype.calculateShift=function(e){var t=e.min,i=e.max,s=e.firstValue,a=e.secondValue;return 100*(((this.handleType===r.First?s:a)-t)/(i-t))},e.prototype.calculateExtraShift=function(e){var t=e.isVertical;if(!e.isRange)return 0;var i=this.calculateDistanceBetweenHandles(e),s=t?this.root.offsetHeight:this.root.offsetWidth,r=t?this.container.offsetHeight:this.container.offsetWidth;return s>i?100*((s-i)/2/r):0},e.prototype.calculateDistanceBetweenHandles=function(e){var t=e.isVertical,i=e.min,s=e.max,r=e.firstValue;return(e.secondValue-r)*((t?this.container.offsetHeight:this.container.offsetWidth)/(s-i))},e.prototype.bindEventListeners=function(){this.root.addEventListener("mousedown",this.drag),document.addEventListener("mouseup",this.drop),document.addEventListener("mousemove",this.watchMouse)},e.prototype.drag=function(){this.isDragged=!0},e.prototype.drop=function(){this.isDragged=!1},e.prototype.watchMouse=function(e){!0===this.isDragged&&this.subscribers.publish(this.calculatePosition(e))},e.prototype.calculatePosition=function(e){var t=!0===this.isVertical?this.calculateVerticalPosition(e.clientY):this.calculateHorizontalPosition(e.clientX);return t>1&&(t=1),t<0&&(t=0),t},e.prototype.calculateHorizontalPosition=function(e){return(e-this.container.getBoundingClientRect().left)/this.container.offsetWidth},e.prototype.calculateVerticalPosition=function(e){var t=this.container.offsetHeight;return(this.container.getBoundingClientRect().top+t-e)/t},s([a.default],e.prototype,"drag",null),s([a.default],e.prototype,"drop",null),s([a.default],e.prototype,"watchMouse",null),e}();t.HandleView=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RangeLineView=void 0;var s=i(1),r=function(){function e(t){this.root=e.createRoot(t)}return e.prototype.switchVertical=function(e){e.isVertical?this.root.classList.add(s.default.rangeLineVertical):this.root.classList.remove(s.default.rangeLineVertical),this.render(e)},e.prototype.render=function(e){e.isVertical?this.renderVertical(e):this.renderHorizontal(e)},e.createRoot=function(e){var t=document.createElement("div");return t.classList.add(s.default.rangeLine),e.appendChild(t),t},e.prototype.renderVertical=function(t){var i=t.isRange,s=t.firstValue,r=t.secondValue;this.root.style.left="",this.root.style.right="",i?(this.root.style.top=100-e.calculateShift(r,t)+"%",this.root.style.bottom=e.calculateShift(s,t)+"%"):(this.root.style.top=100-e.calculateShift(s,t)+"%",this.root.style.bottom="0%")},e.prototype.renderHorizontal=function(t){var i=t.isRange,s=t.firstValue,r=t.secondValue;this.root.style.top="",this.root.style.bottom="",i?(this.root.style.left=e.calculateShift(s,t)+"%",this.root.style.right=100-e.calculateShift(r,t)+"%"):(this.root.style.left="0%",this.root.style.right=100-e.calculateShift(s,t)+"%")},e.calculateShift=function(e,t){var i=t.min;return(e-i)/(t.max-i)*100},e}();t.RangeLineView=r},function(e,t,i){"use strict";var s=this&&this.__decorate||function(e,t,i,s){var r,a=arguments.length,l=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(l=(a<3?r(l):a>3?r(t,i,l):r(t,i))||l);return a>3&&l&&Object.defineProperty(t,i,l),l};Object.defineProperty(t,"__esModule",{value:!0}),t.ScaleValueView=void 0;var r=i(0),a=i(1),l=function(){function e(t,i,s,r){this.clickSubscriber=function(){},this.container=t,this.index=s,this.pointsNumber=r,this.root=e.createRoot(),this.label=this.createLabel(),this.shift=0,this.update(i),this.switchLabel(i),this.switchVertical(i),this.bindEventListeners()}return e.prototype.setClickSubscriber=function(e){this.clickSubscriber=e},e.prototype.switchLabel=function(e){e.scaleDisplayed?this.container.appendChild(this.root):this.root.remove()},e.prototype.switchVertical=function(e){e.isVertical?(this.root.style.left="",this.root.style.bottom=100*this.shift+"%",this.root.classList.add(a.default.scaleValueVertical),this.label.classList.add(a.default.scaleValueLabelVertical)):(this.root.style.bottom="",this.root.style.left=100*this.shift+"%",this.root.classList.remove(a.default.scaleValueVertical),this.label.classList.remove(a.default.scaleValueLabelVertical))},e.prototype.remove=function(){this.root.remove()},e.createRoot=function(){var e=document.createElement("div");return e.classList.add(a.default.scaleValue),e},e.prototype.createLabel=function(){var e=document.createElement("div");return e.classList.add(a.default.scaleValueLabel),this.root.appendChild(e),e},e.prototype.update=function(e){var t=e.min,i=e.max,s=e.step,r=i-t,a=Math.floor(r/s),l=Math.floor(a/(this.pointsNumber-1))*s*this.index;this.shift=l/r,this.label.innerHTML=""+(l+t),this.index>this.pointsNumber&&(this.shift=1,this.label.innerHTML=""+i)},e.prototype.bindEventListeners=function(){this.root.addEventListener("click",this.clickHandler)},e.prototype.clickHandler=function(e){e.stopPropagation(),this.clickSubscriber(this.shift)},s([r.default],e.prototype,"clickHandler",null),e}();t.ScaleValueView=l},function(e){e.exports=JSON.parse('{"root":"demo-slider","scaleContainer":"demo-slider__scale-wrapper","panelWrapper":"demo-slider__panel-wrapper","switcher":"demo-slider__switcher","value":"demo-slider__value","valueInput":"demo-slider__value-input"}')}]);